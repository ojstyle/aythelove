<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì•ˆì–‘ì—­ì„¸ê¶Œì§€êµ¬ ë¶„ë‹´ê¸ˆ ê³„ì‚°ê¸°</title>
    <style>
        body {
            font-family: 'Malgun Gothic', sans-serif;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }
        .container {
            background: white;
            border-radius: 15px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            padding: 30px;
            margin-bottom: 20px;
        }
        h1 {
            text-align: center;
            color: #333;
            margin-bottom: 30px;
            font-size: 2.2em;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.1);
        }
        .input-section {
            background: #f8f9fa;
            padding: 25px;
            border-radius: 10px;
            margin-bottom: 25px;
            border-left: 5px solid #667eea;
        }
        .input-group {
            margin-bottom: 20px;
        }
        label {
            display: block;
            margin-bottom: 8px;
            font-weight: bold;
            color: #555;
            font-size: 1.1em;
        }
        input, select {
            width: 100%;
            padding: 12px;
            border: 2px solid #ddd;
            border-radius: 8px;
            font-size: 16px;
            transition: border-color 0.3s ease;
        }
        input:focus, select:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }
        .highlight-box {
            background: #fff3cd;
            padding: 20px;
            border-left: 5px solid #ffc107;
            border-radius: 10px;
            margin-top: 20px;
        }
        .highlight-box h4 {
            margin-top: 0;
            color: #856404;
        }
        .highlight-box .amount {
            font-size: 1.8em;
            font-weight: bold;
            color: #dc3545;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ¢ ì•ˆì–‘ì—­ì„¸ê¶Œì§€êµ¬ ë¶„ë‹´ê¸ˆ ê³„ì‚°ê¸° ğŸ¢</h1>

        <div class="input-section">
            <h3>ğŸ“ ê¸°ë³¸ ì •ë³´ ì…ë ¥</h3>
            <div class="input-group">
                <label for="assetValue">ë‚´ ê¶Œë¦¬ê°€ì•¡ (ì›):</label>
                <input type="number" id="assetValue" placeholder="ì˜ˆ: 150000000" min="0">
                <div id="assetValueFormatted" style="margin-top: 5px; color: #666; font-size: 0.9em;"></div>
            </div>

            <div class="input-group">
    <label for="salePrice">ë¶„ì–‘ê°€ ì…ë ¥ (ì›) <span style="color: #999; font-size: 0.9em;">ì˜ˆ: 658,200,000ì› (84ã¡ ê¸°ì¤€ ì˜ˆì‹œ)</span></label>
    <input type="number" id="salePrice" placeholder="ì˜ˆ: 658200000" min="0">
</div>
        </div>

        <div class="calculation-section">
            <h3>ğŸ“Š ë¶„ë‹´ê¸ˆ ê³„ì‚° ê²°ê³¼</h3>
            <div id="results"></div>
        </div>
    </div>

    <script>
        const data2021 = {
            ratio: 109.34,
            prices: {
                59: 398900000,
                72: 459200000,
                84: 518050000
            }
        };

        const data2025 = {
            ratio: 100,
            prices: {
                59: 507300000,
                72: 587300000,
                84: 658200000
            }
        };

        function formatNumber(num) {
            return new Intl.NumberFormat('ko-KR').format(Math.round(num));
        }

        function formatCurrency(num) {
            return formatNumber(num) + 'ì›';
        }

        function calculateBundam(salePrice, ratio, assetValue) {
            const rightValue = assetValue * (ratio / 100);
            const bundam = salePrice - rightValue;
            return {
                rightValue: rightValue,
                bundam: bundam
            };
        }

        function calculate() {
            const assetValue = parseFloat(document.getElementById('assetValue').value);
            const apartmentType = document.getElementById('apartmentType').value;

            if (!assetValue || !apartmentType || isNaN(parseFloat(document.getElementById('salePrice').value))) {
                document.getElementById('results').innerHTML = '<div class="warning">âš ï¸ ì¢…ì „ìì‚°í‰ê°€ì´ì•¡ê³¼ í‰í˜•ì„ ëª¨ë‘ ì…ë ¥í•´ì£¼ì„¸ìš”.</div>';
                return;
            }

            const salePrice2021 = data2021.prices[apartmentType];
const inputSalePrice = parseFloat(document.getElementById('salePrice').value);
const salePrice2025 = inputSalePrice || data2025.prices[apartmentType];

            const result2021 = calculateBundam(salePrice2021, data2021.ratio, assetValue);
            const result2025_100 = calculateBundam(salePrice2025, 100, assetValue);
            const additionalBundam_100 = result2025_100.bundam - result2021.bundam;

            let html = `
                <div class="highlight-box">
                    <h4>ğŸ“Œ ë¶„ë‹´ê¸ˆ ë¹„êµ</h4>
                    <p><strong>2021ë…„ ê¸°ì¤€ ë¶„ë‹´ê¸ˆ:</strong> ${formatCurrency(result2021.bundam)}</p>
                    <p><strong>2025ë…„ ì¡°í•©ì•ˆ ë¶„ë‹´ê¸ˆ:</strong> ${formatCurrency(result2025_100.bundam)}</p>
                    <p><strong>ì¦ê°€í•œ ì¶”ê°€ ë¶„ë‹´ê¸ˆ:</strong> <span class="amount">${formatCurrency(additionalBundam_100)}</span></p>
                    <p>âš ï¸ ê¶Œë¦¬ê°€ì•¡ì´ ë‚®ì„ìˆ˜ë¡ ì¶”ê°€ ë¶€ë‹´ì´ ë” í½ë‹ˆë‹¤. ì´ëŠ” ìƒëŒ€ì ìœ¼ë¡œ ìì‚° ê·œëª¨ê°€ ì‘ì€ ì¡°í•©ì›ì´ ë” í° ë¶„ë‹´ê¸ˆì„ ë¶€ë‹´í•˜ê²Œ ë˜ëŠ” êµ¬ì¡°ë¡œ, í˜•í‰ì„± ë¬¸ì œê°€ ë°œìƒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
                </div>
            `;

            document.getElementById('results').innerHTML = html;
        }

        document.getElementById('assetValue').addEventListener('input', function () {
            const val = parseFloat(this.value);
            const formatted = isNaN(val) ? '' : formatCurrency(val);
            document.getElementById('assetValueFormatted').innerText = formatted;
            calculate();
        });

        document.getElementById('apartmentType').addEventListener('change', calculate);
    </script>
</body>
</html>
